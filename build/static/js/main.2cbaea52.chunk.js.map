{"version":3,"sources":["contexts/MyContext.js","components/Login.js","components/Register.js","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["MyContext","createContext","Axios","axios","create","baseURL","MyContextProvider","state","showLogin","isAuth","theUser","toggleNav","setState","logoutUser","localStorage","removeItem","registerUser","user","a","post","name","email","password","register","data","loginUser","login","isLoggedIn","loginToken","getItem","defaults","headers","common","get","success","contextValue","rootState","this","Provider","value","props","children","Component","Login","useContext","initialState","userInfo","errorMsg","successMsg","useState","onChangeValue","e","target","submitForm","event","preventDefault","token","setItem","message","className","onSubmit","noValidate","type","required","placeholder","onChange","onClick","Register","Home","role","aria-label","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2cbaea52.chunk.js","sourcesContent":["import React, { createContext, Component } from \"react\";\r\nimport axios from \"axios\";\r\nexport const MyContext = createContext();\r\n\r\n// Define the base URL\r\nconst Axios = axios.create({\r\n  baseURL: \"http://192.168.1.11/php-login-registration-api/\",\r\n});\r\n\r\nclass MyContextProvider extends Component {\r\n  constructor() {\r\n    super();\r\n    this.isLoggedIn();\r\n  }\r\n\r\n  // Root State\r\n  state = {\r\n    showLogin: true,\r\n    isAuth: false,\r\n    theUser: null,\r\n  };\r\n\r\n  // Toggle between Login & Signup page\r\n  toggleNav = () => {\r\n    const showLogin = !this.state.showLogin;\r\n    this.setState({\r\n      ...this.state,\r\n      showLogin,\r\n    });\r\n  };\r\n\r\n  // On Click the Log out button\r\n  logoutUser = () => {\r\n    localStorage.removeItem(\"loginToken\");\r\n    this.setState({\r\n      ...this.state,\r\n      isAuth: false,\r\n    });\r\n  };\r\n\r\n  registerUser = async (user) => {\r\n    // Sending the user registration request\r\n    const register = await Axios.post(\"register.php\", {\r\n      name: user.name,\r\n      email: user.email,\r\n      password: user.password,\r\n    });\r\n\r\n    return register.data;\r\n  };\r\n\r\n  loginUser = async (user) => {\r\n    // Sending the user Login request\r\n    const login = await Axios.post(\"login.php\", {\r\n      email: user.email,\r\n      password: user.password,\r\n    });\r\n    return login.data;\r\n  };\r\n\r\n  // Checking user logged in or not\r\n  isLoggedIn = async () => {\r\n    const loginToken = localStorage.getItem(\"loginToken\");\r\n\r\n    // If inside the local-storage has the JWT token\r\n    if (loginToken) {\r\n      //Adding JWT token to axios default header\r\n      Axios.defaults.headers.common[\"Authorization\"] = \"bearer \" + loginToken;\r\n\r\n      // Fetching the user information\r\n      const { data } = await Axios.get(\"user-info.php\");\r\n\r\n      // If user information is successfully received\r\n      if (data.success && data.user) {\r\n        this.setState({\r\n          ...this.state,\r\n          isAuth: true,\r\n          theUser: data.user,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const contextValue = {\r\n      rootState: this.state,\r\n      toggleNav: this.toggleNav,\r\n      isLoggedIn: this.isLoggedIn,\r\n      registerUser: this.registerUser,\r\n      loginUser: this.loginUser,\r\n      logoutUser: this.logoutUser,\r\n    };\r\n    return (\r\n      <MyContext.Provider value={contextValue}>\r\n        {this.props.children}\r\n      </MyContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyContextProvider;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { MyContext } from \"../contexts/MyContext\";\r\n\r\nfunction Login() {\r\n  const { toggleNav, loginUser, isLoggedIn } = useContext(MyContext);\r\n\r\n  const initialState = {\r\n    userInfo: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    errorMsg: \"\",\r\n    successMsg: \"\",\r\n  };\r\n\r\n  const [state, setState] = useState(initialState);\r\n\r\n  // On change input value (email & password)\r\n  const onChangeValue = (e) => {\r\n    setState({\r\n      ...state,\r\n      userInfo: {\r\n        ...state.userInfo,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  // On Submit Login From\r\n  const submitForm = async (event) => {\r\n    event.preventDefault();\r\n    const data = await loginUser(state.userInfo);\r\n    if (data.success && data.token) {\r\n      setState({\r\n        ...initialState,\r\n      });\r\n      localStorage.setItem(\"loginToken\", data.token);\r\n      await isLoggedIn();\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        successMsg: \"\",\r\n        errorMsg: data.message,\r\n      });\r\n    }\r\n  };\r\n  //\r\n  // Show Message on Error or Success\r\n  let successMsg = \"\";\r\n  let errorMsg = \"\";\r\n  if (state.errorMsg) {\r\n    errorMsg = <div className=\"error-msg\">{state.errorMsg}</div>;\r\n  }\r\n  if (state.successMsg) {\r\n    successMsg = <div className=\"success-msg\">{state.successMsg}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"_loginRegister\">\r\n      <h1>Login</h1>\r\n      <form onSubmit={submitForm} noValidate>\r\n        <div className=\"form-control\">\r\n          <label>Email</label>\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            required\r\n            placeholder=\"Enter your email\"\r\n            value={state.userInfo.email}\r\n            onChange={onChangeValue}\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label>PassWord</label>\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            required\r\n            placeholder=\"Enter your password\"\r\n            value={state.userInfo.password}\r\n            onChange={onChangeValue}\r\n          />\r\n        </div>\r\n        {errorMsg}\r\n        {successMsg}\r\n        <div className=\"form-control\">\r\n          <button type=\"submit\">Login</button>\r\n        </div>\r\n      </form>\r\n      <div className=\"_navBtn\">\r\n        <button onClick={toggleNav}>Register</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { MyContext } from \"../contexts/MyContext\";\r\n\r\nfunction Register() {\r\n  const { toggleNav, registerUser } = useContext(MyContext);\r\n  const initialState = {\r\n    userInfo: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    errorMsg: \"\",\r\n    successMsg: \"\",\r\n  };\r\n  const [state, setState] = useState(initialState);\r\n\r\n  // On Submit the Registration Form\r\n  const submitForm = async (event) => {\r\n    event.preventDefault();\r\n    const data = await registerUser(state.userInfo);\r\n    if (data.success) {\r\n      setState({\r\n        ...initialState,\r\n        successMsg: data.message,\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        successMsg: \"\",\r\n        errorMsg: data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  // On change the Input Value (name, email, password)\r\n  const onChangeValue = (e) => {\r\n    setState({\r\n      ...state,\r\n      userInfo: {\r\n        ...state.userInfo,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  // Show Message on Success or Error\r\n  let successMsg = \"\";\r\n  let errorMsg = \"\";\r\n  if (state.errorMsg) {\r\n    errorMsg = <div className=\"error-msg\">{state.errorMsg}</div>;\r\n  }\r\n  if (state.successMsg) {\r\n    successMsg = <div className=\"success-msg\">{state.successMsg}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"_loginRegister\">\r\n      <h1>Sign Up</h1>\r\n      <form onSubmit={submitForm} noValidate>\r\n        <div className=\"form-control\">\r\n          <label>Full Name</label>\r\n          <input\r\n            name=\"name\"\r\n            required\r\n            type=\"text\"\r\n            value={state.userInfo.name}\r\n            onChange={onChangeValue}\r\n            placeholder=\"Enter your name\"\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label>Email</label>\r\n          <input\r\n            name=\"email\"\r\n            required\r\n            type=\"email\"\r\n            value={state.userInfo.email}\r\n            onChange={onChangeValue}\r\n            placeholder=\"Enter your email\"\r\n          />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label>Password</label>\r\n          <input\r\n            name=\"password\"\r\n            required\r\n            type=\"password\"\r\n            value={state.userInfo.password}\r\n            onChange={onChangeValue}\r\n            placeholder=\"Enter your password\"\r\n          />\r\n        </div>\r\n        {errorMsg}\r\n        {successMsg}\r\n        <div className=\"form-control\">\r\n          <button type=\"submit\">Sign Up</button>\r\n        </div>\r\n      </form>\r\n      <div className=\"_navBtn\">\r\n        <button onClick={toggleNav}>Login</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useContext } from \"react\";\r\nimport { MyContext } from \"../contexts/MyContext\";\r\n\r\n// Importing the Login & Register Componet\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\n\r\nfunction Home() {\r\n  const { rootState, logoutUser } = useContext(MyContext);\r\n  const { isAuth, theUser, showLogin } = rootState;\r\n\r\n  // If user Logged in\r\n  if (isAuth) {\r\n    return (\r\n      <div className=\"userInfo\">\r\n        <div className=\"_img\">\r\n          <span role=\"img\" aria-label=\"User Image\">\r\n            👦\r\n          </span>\r\n        </div>\r\n        <h1>{theUser.name}</h1>\r\n        <div className=\"_email\">\r\n          <span>{theUser.email}</span>\r\n        </div>\r\n        <button onClick={logoutUser}>Logout</button>\r\n      </div>\r\n    );\r\n  }\r\n  // Showing Login Or Register Page According to the condition\r\n  else if (showLogin) {\r\n    return <Login />;\r\n  } else {\r\n    return <Register />;\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\n// Importing the Context Provider & Home Component\nimport MyContextProvider from \"./contexts/MyContext\";\nimport Home from \"./components/Home\";\n\nfunction App() {\n  return (\n    <MyContextProvider>\n      <Home />\n    </MyContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}